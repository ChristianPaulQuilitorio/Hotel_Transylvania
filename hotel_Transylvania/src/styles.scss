

// Custom Theming for Angular Material
// For more information: https://material.angular.dev/guide/theming
@use '@angular/material' as mat;

/* Global brand colors â€” khaki aesthetic */
:root {
  /* Brand palette */
  --brand-khaki: #bdb76b; /* dark khaki */
  --brand-khaki-rgb: 189, 183, 107;
  --brand-olive: #5a5a3a; /* supporting/dark text */
  --brand-sand: #f5f1d6; /* soft light */
  --brand-ivory: #fffdf4;

  /* Bootstrap runtime variables */
  --bs-primary: var(--brand-khaki);
  --bs-primary-rgb: var(--brand-khaki-rgb);
  --bs-link-color: #6b8e23; /* olive drab links */
  --bs-link-hover-color: #556b2f;
}

html {
  @include mat.theme((
    color: (
      theme-type: light,
  primary: mat.$yellow-palette,
  tertiary: mat.$blue-palette,
    ),
    typography: Roboto,
    density: 0,
  ));
}/* You can add global styles to this file, and also import other style files */

html, body { height: 100%; }
body { 
  margin: 0; 
  font-family: Roboto, "Helvetica Neue", sans-serif; 
  background: linear-gradient(180deg, var(--brand-ivory) 0%, #faf9f0 40%, #ffffff 100%);
}

/* Make media responsive by default */
img, svg, video, canvas { max-width: 100%; height: auto; }

/* Angular Material toolbar primary override to khaki */
.mat-toolbar.mat-primary {
  --mat-toolbar-container-background-color: var(--brand-khaki);
  --mat-toolbar-container-text-color: #1b1b1b;
}

/* Apply gradient only when not explicitly disabled */
:root:not(.no-toolbar-gradient) .mat-toolbar.mat-primary {
  background: linear-gradient(90deg, var(--brand-khaki), #a8a154) !important;
}

:root:not(.no-toolbar-gradient) .mat-toolbar.mat-primary:hover {
  background: linear-gradient(90deg, #a39d4f, #908a44) !important;
}

/* Buttons (Bootstrap) to ensure khaki primary is crisp */
.btn-primary {
  --bs-btn-color: #1b1b1b;
  --bs-btn-bg: var(--brand-khaki);
  --bs-btn-border-color: var(--brand-khaki);
  --bs-btn-hover-bg: #a8a154;
  --bs-btn-hover-border-color: #a8a154;
  --bs-btn-active-bg: #9a944b;
  --bs-btn-active-border-color: #9a944b;
}

.btn-outline-primary {
  --bs-btn-color: var(--brand-khaki);
  --bs-btn-border-color: var(--brand-khaki);
  --bs-btn-hover-bg: var(--brand-khaki);
  --bs-btn-hover-border-color: var(--brand-khaki);
  --bs-btn-hover-color: #1b1b1b;
}

/* Cards: slightly softer corners globally */
.card { border-radius: 12px; overflow: hidden; }

/* High contrast mode overrides */
.hc {
  --brand-khaki: #8b8b2b; /* darker for higher contrast */
  --brand-khaki-rgb: 139, 139, 43;
  --bs-link-color: #0f3d1f;
  --bs-link-hover-color: #0b2c16;
}

.hc body { background: #fffef7; }
.hc .mat-toolbar.mat-primary { background: linear-gradient(90deg, #7a7a24, #68681f) !important; }
.hc .btn-primary { --bs-btn-bg: var(--brand-khaki); --bs-btn-border-color: var(--brand-khaki); }

/* Skip link for keyboard users */
.skip-link {
  position: absolute;
  left: -9999px;
  top: 0;
  background: #000;
  color: #fff;
  padding: .5rem .75rem;
  z-index: 2000;
}
.skip-link:focus {
  left: 0.5rem;
  top: 0.5rem;
  border-radius: 6px;
}

/* Strong, consistent focus ring */
*:focus-visible {
  outline: 3px solid #3b5; /* greenish highlight works with khaki */
  outline-offset: 2px;
}

/* Respect reduced motion more broadly */
@media (prefers-reduced-motion: reduce) {
  * { transition: none !important; animation: none !important; }
}

/* Dark theme (toggle via .theme-dark on :root) */
.theme-dark {
  --brand-khaki: #c5b76b; /* keep accent warm */
  --brand-khaki-rgb: 197, 183, 107;
  --brand-olive: #d9d9c4; /* lighter text */
  --brand-sand: #2b2b2b;
  --brand-ivory: #1e1e1e;
  --bs-link-color: #9acd32;
  --bs-link-hover-color: #7fb02a;
}

.theme-dark body { background: linear-gradient(180deg, #161616 0%, #1b1b1b 40%, #202020 100%); color: #e7e7e7; }
.theme-dark .mat-toolbar.mat-primary { 
  --mat-toolbar-container-background-color: #2a2a2a; 
  --mat-toolbar-container-text-color: #f2f2f2; 
  background: #2a2a2a !important; 
}
:root.theme-dark:not(.no-toolbar-gradient) .mat-toolbar.mat-primary { background: linear-gradient(90deg, #2f2f2f, #3a3a3a) !important; }
.theme-dark .btn-primary { --bs-btn-color: #111; --bs-btn-bg: var(--brand-khaki); --bs-btn-border-color: var(--brand-khaki); }
.theme-dark .card { background-color: #262626; color: #e7e7e7; }
/* Strengthen base text and headings in dark mode for readability */
.theme-dark body { color: #ededed; }
.theme-dark h1, .theme-dark h2, .theme-dark h3, .theme-dark h4, .theme-dark h5, .theme-dark h6 { color: #f3f3f3; }
.theme-dark .lead { color: #d9d9d9 !important; }
.theme-dark .small, .theme-dark small { color: #c9c9c9; }
.theme-dark a { color: var(--bs-link-color); }
.theme-dark a:hover { color: var(--bs-link-hover-color); }

/* Landing featured cards: raise contrast for metadata */
.theme-dark .featured-section .card { background-color: #2a2a2a; }
.theme-dark .featured-section .text-muted { color: #c6c6c6 !important; }
.theme-dark .featured-section .badge.bg-success { color: #fff; }

/* Chat & offcanvas readability in dark mode */
.theme-dark .offcanvas,
.theme-dark .offcanvas-header,
.theme-dark .offcanvas-body { background-color: #1b1b1b; color: #e7e7e7; }
.theme-dark .btn-close { filter: invert(1) grayscale(100%); opacity: 0.8; }
.theme-dark .btn-close:hover { opacity: 1; }
.theme-dark .chat-messages { background: #141414 !important; border-color: #333 !important; }
.theme-dark .chat-bubble.assistant { background: #2a2a2a !important; color: #f0f0f0 !important; }
.theme-dark .chat-bubble.user { color: #111 !important; }
.theme-dark .text-muted { color: #cfcfcf !important; }
.theme-dark .chat-bubble .text-muted,
.theme-dark .chat-bubble small,
.theme-dark .chat-bubble .small { color: #d8d8d8 !important; }
.theme-dark .chat-bubble a { color: #9bd83a; }
.theme-dark .chat-bubble a:hover { color: #b2ea48; }
/* Improve readability for light cards embedded inside chat bubbles (rooms/availability) */
.theme-dark .chat-bubble .bg-light,
.theme-dark .chat-bubble .bg-light-subtle { background-color: #2f2f2f !important; color: #ededed !important; }
.theme-dark .chat-bubble .border { border-color: #4a4a4a !important; }
.theme-dark .chat-bubble .fw-semibold { color: #f3f3f3; }
.theme-dark .chat-bubble .btn-outline-secondary { --bs-btn-color: #e6e6e6; --bs-btn-border-color: #8a8a8a; }
.theme-dark .chat-bubble .btn-outline-secondary:hover { --bs-btn-hover-bg: #3a3a3a; --bs-btn-hover-border-color: #9a9a9a; --bs-btn-hover-color: #fff; }
.theme-dark .form-control { background: #1c1c1c; color: #f0f0f0; border-color: #4a4a4a; }
.theme-dark .form-control::placeholder { color: #b5bdc7; }
.theme-dark .input-group-text, .theme-dark .form-select { background: #1c1c1c; color: #f0f0f0; border-color: #4a4a4a; }
.theme-dark .btn-outline-secondary {
  --bs-btn-color: #d0d0d0;
  --bs-btn-border-color: #6a6a6a;
  --bs-btn-hover-bg: #2a2a2a;
  --bs-btn-hover-border-color: #7a7a7a;
  --bs-btn-hover-color: #ffffff;
}

/* Hide chat FAB when help/tutorial is open */
.offcanvas-help-open .chat-fab { display: none !important; }

/* During guided tour, keep FAB visible so it can be highlighted */

/* Disable body scroll during tour for steadier positioning */
body.tour-open { overflow: hidden; }

/* Toolbar hover affordance */
.mat-toolbar button.mat-mdc-button:hover,
.mat-toolbar a.mat-mdc-button:hover {
  background: rgba(0,0,0,0.04);
}
